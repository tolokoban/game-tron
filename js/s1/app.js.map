{"version":3,"sources":["app.js"],"names":["require","module","exports","_","Dom","Car","Action","DIMENSION","start","canvas","ctx","getContext","action","create","type","car","setAttribute","clientWidth","clientHeight","anim","time","clearRect","width","height","walls","beginPath","moveTo","i","length","lineTo","strokeStyle","stroke","move","window","requestAnimationFrame"],"mappings":";;AAAA;AAAqBA,OAAO,CAAE,QAAF,EAAY,UAASA,OAAT,EAAkBC,MAAlB,EAA0BC,OAA1B,EAAmC;AAAE,MAAIC,CAAC,GAAC,SAAFA,CAAE,GAAU;AAAC,WAAO,EAAP;AAAU,GAA3B;;AAA+B;;AAE5G,MAAMC,GAAG,GAAGJ,OAAO,CAAC,KAAD,CAAnB;AAAA,MACMK,GAAG,GAAGL,OAAO,CAAC,QAAD,CADnB;AAAA,MAEMM,MAAM,GAAGN,OAAO,CAAC,gBAAD,CAFtB;;AAKA,MAAMO,SAAS,GAAG,CAAlB;;AAGAL,EAAAA,OAAO,CAACM,KAAR,GAAgB,YAAW;AACvB,QAAMC,MAAM,GAAGL,GAAG,CAAC,QAAD,CAAlB;AAAA,QACMM,GAAG,GAAGD,MAAM,CAACE,UAAP,CAAmB,IAAnB,CADZ;AAAA,QAEMC,MAAM,GAAGN,MAAM,CAACO,MAAP,CAAc;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAAd,CAFf;AAAA,QAGMC,GAAG,GAAG,IAAIV,GAAJ,CAASO,MAAT,CAHZ;AAKAH,IAAAA,MAAM,CAACO,YAAP,CAAqB,OAArB,EAA8BP,MAAM,CAACQ,WAArC;AACAR,IAAAA,MAAM,CAACO,YAAP,CAAqB,QAArB,EAA+BP,MAAM,CAACS,YAAtC;;AAEA,aAASC,IAAT,CAAeC,IAAf,EAAsB;AAClBV,MAAAA,GAAG,CAACW,SAAJ,CAAe,CAAf,EAAkB,CAAlB,EAAqBZ,MAAM,CAACa,KAA5B,EAAmCb,MAAM,CAACc,MAA1C;AAEA,UAAMC,KAAK,GAAGT,GAAG,CAACS,KAAlB;AACAd,MAAAA,GAAG,CAACe,SAAJ;AACAf,MAAAA,GAAG,CAACgB,MAAJ,CAAYF,KAAK,CAAC,CAAD,CAAjB,EAAsBA,KAAK,CAAC,CAAD,CAA3B;;AACA,WAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,KAAK,CAACI,MAA1B,EAAkCD,CAAC,IAAIpB,SAAvC,EAAmD;AAC/CG,QAAAA,GAAG,CAACmB,MAAJ,CAAYL,KAAK,CAACG,CAAD,CAAjB,EAAsBH,KAAK,CAACG,CAAC,GAAG,CAAL,CAA3B;AACH;;AACDjB,MAAAA,GAAG,CAACoB,WAAJ,GAAkB,MAAlB;AACApB,MAAAA,GAAG,CAACqB,MAAJ;AAEAhB,MAAAA,GAAG,CAACiB,IAAJ,CAAUZ,IAAV;AAEAa,MAAAA,MAAM,CAACC,qBAAP,CAA8Bf,IAA9B;AACH;;AAEDc,IAAAA,MAAM,CAACC,qBAAP,CAA8Bf,IAA9B;AACH,GA3BD;;AA+BAlB,EAAAA,MAAM,CAACC,OAAP,CAAeC,CAAf,GAAmBA,CAAnB;AACC,CA1C2B,CAAP","sourcesContent":["/** @module s1/app */require( 's1/app', function(require, module, exports) { var _=function(){return ''};   \"use strict\";\r\n\r\nconst Dom = require(\"dom\"),\r\n      Car = require(\"s1/car\"),\r\n      Action = require(\"s1/tron.action\");\r\n\r\n\r\nconst DIMENSION = 2;\r\n\r\n\r\nexports.start = function() {\r\n    const canvas = Dom(\"canvas\"),\r\n          ctx = canvas.getContext( \"2d\" ),\r\n          action = Action.create({ type: \"keyboard\" }),\r\n          car = new Car( action );\r\n\r\n    canvas.setAttribute( \"width\", canvas.clientWidth );\r\n    canvas.setAttribute( \"height\", canvas.clientHeight );\r\n\r\n    function anim( time ) {\r\n        ctx.clearRect( 0, 0, canvas.width, canvas.height );\r\n\r\n        const walls = car.walls;\r\n        ctx.beginPath();\r\n        ctx.moveTo( walls[0], walls[1] );\r\n        for( let i = 2; i < walls.length; i += DIMENSION ) {\r\n            ctx.lineTo( walls[i], walls[i + 1] );\r\n        }\r\n        ctx.strokeStyle = \"#0f0\";\r\n        ctx.stroke();\r\n\r\n        car.move( time );\r\n\r\n        window.requestAnimationFrame( anim );\r\n    }\r\n\r\n    window.requestAnimationFrame( anim );\r\n};\r\n\r\n\r\n\r\nmodule.exports._ = _;\n})"]}