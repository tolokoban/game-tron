{"version":3,"file":"tfw.event.js","sources":["tfw.event.js"],"sourcesContent":["/** @module tfw.event */require( 'tfw.event', function(require, module, exports) { var _=function(){var D={\"en\":{},\"fr\":{}},X=require(\"$\").intl;function _(){return X(D,arguments);}_.all=D;return _}();\n    /**\n * Gestion d'une liste de fonctions devant réagir à des événements.\n * @class\n */\nvar Event = function() {\n    this._list = [];\n};\n\n/**\n * Ajouter un __listener__ à la liste.\n * @param listener{function} Fonction à appeler quand l'énément est déclenché.\n * @return false  si le __listener__  n'a pas été ajouté  (parce qu'il\n * existe déjà ou parce qu'il n'est pas une fonction).\n */\nEvent.prototype.add = function(listener) {\n    if (typeof listener !== 'function') return false;\n    this.remove(listener);\n    for (var i = 0 ; i < this._list.length ; i++) {\n        if( listener === this._list ) return false;\n    }\n    this._list.push( listener );\n    return true;\n};\n\n/**\n * Supprimer le __listener__ de la liste.\n * @param listener{function} Fonction à appeler quand l'événement est déclenché.\n * @return false si le __listener__  n'existe pas.\n */\nEvent.prototype.remove = function(listener) {\n    if (typeof listener !== 'function') return false;\n    for (var i = 0 ; i < this._list.length ; i++) {\n        var x = this._list;\n        if( listener === x ) {\n            this._list.splice(i, 1);            \n            return true;\n        }\n    }\n    return false;\n};\n\n/**\n * Supprimer tous les __event__ de la liste.\n */\nEvent.prototype.clear = function() {\n    this._list = [];\n};\n\n/**\n * Emettre l'événement. Si un listener retourne ```false```, on n'appelle pas les event suivants.\n */\nEvent.prototype.fire = function() {\n    var i, listener,\n        args = Array.prototype.slice.call( arguments );\n    for (i = 0 ; i < this._list.length ; i++) {\n        listener = this._list[i];\n        if (false === listener.apply(listener, args)) return false;\n    }    \n    return true;\n};\n\n\nmodule.exports = Event;\n\n\n  \nmodule.exports._ = _;\n});"],"names":["require","module","exports","_","X","D","arguments","en","fr","intl","all","Event","this","_list","prototype","add","listener","remove","i","length","push","splice","clear","fire","args","Array","slice","call","apply"],"mappings":"AAAwBA,QAAS,YAAa,SAASA,EAASC,EAAQC,GAAW,GAAIC,GAAE,WAAuD,QAASA,KAAI,MAAOC,GAAEC,EAAEC,WAApE,GAAID,IAAGE,MAAQC,OAASJ,EAAEJ,EAAQ,KAAKS,IAAiD,OAARN,GAAEO,IAAIL,EAASF,KAK/LQ,EAAQ,WACRC,KAAKC,SASTF,GAAMG,UAAUC,IAAM,SAASC,GAC3B,GAAwB,kBAAbA,GAAyB,OAAO,CAC3CJ,MAAKK,OAAOD,EACZ,KAAK,GAAIE,GAAI,EAAIA,EAAIN,KAAKC,MAAMM,OAASD,IACrC,GAAIF,IAAaJ,KAAKC,MAAQ,OAAO,CAGzC,OADAD,MAAKC,MAAMO,KAAMJ,IACV,GAQXL,EAAMG,UAAUG,OAAS,SAASD,GAC9B,GAAwB,kBAAbA,GAAyB,OAAO,CAC3C,KAAK,GAAIE,GAAI,EAAIA,EAAIN,KAAKC,MAAMM,OAASD,IAAK,CAE1C,GAAIF,IADIJ,KAAKC,MAGT,MADAD,MAAKC,MAAMQ,OAAOH,EAAG,IACd,EAGf,OAAO,GAMXP,EAAMG,UAAUQ,MAAQ,WACpBV,KAAKC,UAMTF,EAAMG,UAAUS,KAAO,WACnB,GAAIL,GAAGF,EACHQ,EAAOC,MAAMX,UAAUY,MAAMC,KAAMrB,UACvC,KAAKY,EAAI,EAAIA,EAAIN,KAAKC,MAAMM,OAASD,IAEjC,GADAF,EAAWJ,KAAKC,MAAMK,IAClB,IAAUF,EAASY,MAAMZ,EAAUQ,GAAO,OAAO,CAEzD,QAAO,GAIXvB,EAAOC,QAAUS,EAIjBV,EAAOC,QAAQC,EAAIA"}