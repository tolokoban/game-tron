{"version":3,"sources":["dom.theme.js"],"names":["require","module","exports","_","D","X","intl","arguments","all","register","registerTheme","apply","applyTheme","Color","THEME_COLOR_NAMES","THEMES","css","current","themeName","style","completeWithDefaultValues","codeCSS","codeVariables","codeBackground","codeElevation","codeText","styleElement","document","createElement","getElementsByTagName","appendChild","textContent","depth","forEach","colorName","bgClass","fgClass","position","piecesFG","piecesSVG","piecesBG","index","push","pop","join","isNaN","parseInt","luminance","bg2","elevationColor","addAlpha","white","Math","ceil","black","elevation","name","target","body","console","error","removeClass","addClass","bg0","bg1","bg3","bgP","bgPD","dark","bgPL","light","bgS","bgSD","bgSL","bg","color","percent","darkColor","rgb2hsl","L","hsl2rgb","stringify","lightColor","alpha","length"],"mappings":"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","sourcesContent":["/** @module dom.theme */require( 'dom.theme', function(require, module, exports) { var _=function(){var D={\"en\":{},\"fr\":{}},X=require(\"$\").intl;function _(){return X(D,arguments);}_.all=D;return _}();\n   \"use strict\";\n/**\n * Manage material design like CSS styles.\n */\nexports.register = registerTheme;\nexports.apply = applyTheme;\n\n\n//################################################################################\n\n\nvar Color = require(\"tfw.color\");\n\nvar THEME_COLOR_NAMES = [\"0\", \"1\", \"2\", \"3\", \"P\", \"PD\", \"PL\", \"S\", \"SD\", \"SL\"];\nvar THEMES = {\n  css: {},\n  current: null\n};\n\n\n\nfunction registerTheme( themeName, style ) {\n  style = completeWithDefaultValues( style );\n\n  var codeCSS = codeVariables( themeName, style );\n  codeCSS += codeBackground( themeName, style );\n  codeCSS += codeElevation( themeName, style );\n  codeCSS += codeText( themeName, style );\n\n  var styleElement = THEMES.css[themeName];\n  if( !styleElement ) {\n    styleElement = document.createElement(\"style\");\n    document.getElementsByTagName( 'head' )[0].appendChild( styleElement );\n    THEMES.css[themeName] = styleElement;\n  }\n\n  styleElement.textContent = codeCSS;\n\n  return this;\n}\n\nfunction codeText( themeName, style ) {\n  var codeCSS = '';\n  for( var depth = 1; depth <= 10; depth++ ) {\n    THEME_COLOR_NAMES.forEach(function (colorName) {\n      var bgClass = \".thm-bg\" + colorName;\n      var fgClass = \".thm-fg\" + colorName;\n      for( var position = 1; position <= depth; position++ ) {\n        var piecesFG = [];\n        var piecesSVG = [];\n        var piecesBG = [];\n        for( var index = 1; index <= depth; index++ ) {\n          piecesBG.push( position === index ? bgClass : '*' );\n          piecesSVG.push( position === index ? bgClass : '*' );\n          piecesFG.push( position === index ? fgClass : '*' );\n          if( index === depth ) {\n            piecesBG.push( piecesBG.pop() + \".thm-fg\" );\n            piecesFG.push( piecesFG.pop() + fgClass );\n          }\n        }\n        codeCSS += \"body.dom-theme-\" + themeName + \" \"\n          + piecesBG.join( \" > \" )\n          + \" { color: \" + style['fg' + colorName] + \" }\\n\";\n        codeCSS += \"body.dom-theme-\" + themeName + \" \"\n          + piecesFG.join( \" > \" )\n          + \" { color: \" + style['bg' + colorName] + \" }\\n\";\n        codeCSS += \"body.dom-theme-\" + themeName + \" \"\n          + piecesSVG.join( \" > \" )\n          + \" .thm-svg-fill0\"\n          + \" { fill: \" + style['fg' + colorName] + \" }\\n\";\n        codeCSS += \"body.dom-theme-\" + themeName + \" \"\n          + piecesSVG.join( \" > \" )\n          + \" .thm-svg-stroke0\"\n          + \" { stroke: \" + style['fg' + colorName] + \" }\\n\";\n      }\n    });\n  }\n  return codeCSS;\n}\n\nfunction codeVariables( themeName, style ) {\n  var codeCSS = \"body.dom-theme-\" + themeName + '{\\n';\n  THEME_COLOR_NAMES.forEach(function (colorName) {\n    codeCSS += \"  --thm-bg\" + colorName + \": \" + style['bg' + colorName] + \";\\n\";\n  });\n  codeCSS += \"}\\n\";\n  return codeCSS;\n}\n\n\nfunction codeBackground( themeName, style ) {\n  var codeCSS = '';\n  THEME_COLOR_NAMES.forEach(function (colorName) {\n    codeCSS += \"body.dom-theme-\" + themeName + \".thm-bg\" + colorName\n      + \" { background-color: \" + style['bg' + colorName] + \" }\\n\";\n    codeCSS += \"body.dom-theme-\" + themeName + \" .thm-fg\" + colorName\n      + \" { color: \" + style['fg' + colorName] + \" }\\n\";\n    codeCSS += \"body.dom-theme-\" + themeName + \" .thm-bg\" + colorName\n      + \" { background-color: \" + style['bg' + colorName] + \" }\\n\";\n    codeCSS += \"body.dom-theme-\" + themeName + \" .thm-bg\" + colorName + \"-bottom\"\n      + \" { background: linear-gradient(to top,\"\n      + style['bg' + colorName] + \",transparent) }\\n\";\n    codeCSS += \"body.dom-theme-\" + themeName + \" .thm-bg\" + colorName + \"-top\"\n      + \" { background: linear-gradient(to bottom,\"\n      + style['bg' + colorName] + \",transparent) }\\n\";\n    codeCSS += \"body.dom-theme-\" + themeName + \" .thm-bg\" + colorName + \"-left\"\n      + \" { background: linear-gradient(to right,\"\n      + style['bg' + colorName] + \",transparent) }\\n\";\n    codeCSS += \"body.dom-theme-\" + themeName + \" .thm-bg\" + colorName + \"-right\"\n      + \" { background: linear-gradient(to left,\"\n      + style['bg' + colorName] + \",transparent) }\\n\";\n\n    if( !isNaN(parseInt(colorName)) ) return;\n    codeCSS += \"body.dom-theme-\" + themeName + \" .thm-svg-fill\" + colorName\n      + \" { fill: \"\n      + style['bg' + colorName] + \" }\\n\";\n    codeCSS += \"body.dom-theme-\" + themeName + \" .thm-svg-stroke\" + colorName\n      + \" { stroke: \"\n      + style['bg' + colorName] + \" }\\n\";\n  });\n  return codeCSS;\n}\n\nfunction codeElevation( themeName, style ) {\n  var luminance = Color.luminance( style.bg2 );\n  var elevationColor = luminance < .6\n        ? addAlpha(style.white, Math.ceil(10 * luminance)) : addAlpha(style.black, '6');\n  var codeCSS = '';\n  [0,1,2,3,4,6,8,9,12,16,24].forEach(function (elevation) {\n    codeCSS += \"body.dom-theme-\" + themeName + \" .thm-ele\" + elevation + \" {\\n\"\n      + \"  box-shadow: 0 \" + elevation + \"px \" + (2 * elevation) + \"px \" + elevationColor + \"\\n\"\n      + \"}\\n\";\n  });\n  return codeCSS;\n}\n\nfunction applyTheme( name, target ) {\n  if( typeof target === 'undefined' ) target = document.body;\n\n  if( !THEMES.css[name] ) {\n    console.error( \"This theme has not been registered: \", name );\n    return;\n  }\n  var body = document.body;\n  if( typeof THEMES.current === 'string' ) {\n    this.removeClass( body, \"dom-theme-\" + THEMES.current );\n  }\n  THEMES.current = name;\n  this.addClass( body, \"dom-theme-\" + THEMES.current );\n}\n\nfunction completeWithDefaultValues( style ) {\n  if( typeof style === 'undefined' ) style = {};\n  if( typeof style.bg0 !== 'string' ) style.bg0 = \"#E0E0E0\";\n  if( typeof style.bg1 !== 'string' ) style.bg1 = \"#F5F5F5\";\n  if( typeof style.bg2 !== 'string' ) style.bg2 = \"#FAFAFA\";\n  if( typeof style.bg3 !== 'string' ) style.bg3 = \"#FFF\";\n\n  if( typeof style.bgP !== 'string' ) style.bgP = \"#3E50B4\";\n  if( typeof style.bgPD !== 'string' ) style.bgPD = dark( style.bgP );\n  if( typeof style.bgPL !== 'string' ) style.bgPL = light( style.bgP );\n  if( typeof style.bgS !== 'string' ) style.bgS = \"#FF3F80\";\n  if( typeof style.bgSD !== 'string' ) style.bgSD = dark( style.bgS );\n  if( typeof style.bgSL !== 'string' ) style.bgSL = light( style.bgS );\n\n  if( typeof style.white === 'undefined' ) style.white = '#fff';\n  if( typeof style.black === 'undefined' ) style.black = '#000';\n\n\n  THEME_COLOR_NAMES.forEach(function (name) {\n    var bg = style['bg' + name];\n    var luminance = Color.luminance( bg );\n    style['fg' + name] = luminance < .6 ? style.white : style.black;\n  });\n\n  return style;\n}\n\nfunction dark( color ) {\n  var percent = .25;\n  var darkColor = new Color( color );\n  darkColor.rgb2hsl();\n  darkColor.L *= 1 - percent;\n  darkColor.hsl2rgb();\n  return darkColor.stringify();\n}\n\nfunction light( color ) {\n  var percent = .4;\n  var lightColor = new Color( color );\n  lightColor.rgb2hsl();\n  lightColor.L = percent + (1 - percent) * lightColor.L;\n  lightColor.hsl2rgb();\n  return lightColor.stringify();\n}\n\n\n/**\n * @param {string} color - RGB color in format #xxx or #xxxxxx.\n * @param {string} alpha - Single char between 0 and F.\n */\nfunction addAlpha( color, alpha ) {\n  if( color.length < 5 ) return color + alpha;\n  return color + alpha + alpha;\n}\n\n\n\nmodule.exports._ = _;\n})"]}